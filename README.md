<table>
  <tr>
    <th>Integración</th>
    <th>Deploy</th>
    <th>Contenido</th>
  </tr>

  <tr>
    <td><b>API Username Parser</b></td>
    <td>
      <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FVelorciosGroup%2FAzureSentinelARMTemplate%2Frefs%2Fheads%2Fmain%2FAPI_parser_usernames%2Foutput%2FDeploy_API_Parser.json">
        <img src="./Button.png" alt="Deploy to Azure" width="140px" />
      </a>
    </td>
    <td>
      • <a href="./API_parser_usernames/output/Cliente_Action_API_Parser_Account_Entity_Playbook.json">Cliente_Action_API_Parser_Account_Entity_Playbook.json</a><br>
      • <a href="./API_parser_usernames/output/Cliente_Action_API_Parser_Alert_Playbook.json">Cliente_Action_API_Parser_Alert_Playbook.json</a><br>
      • <a href="./API_parser_usernames/output/Cliente_Action_API_Parser_Incident_Playbook.json">Cliente_Action_API_Parser_Incident_Playbook.json</a><br>
      • <a href="./API_parser_usernames/output/Cliente_OrchestatorPart_API_Parser_Playbook.json">Cliente_OrchestatorPart_API_Parser_Playbook.json</a><br>
      • <a href="./API_parser_usernames/output/Cliente_OrchestatorPart_API_Petition.json">Cliente_OrchestatorPart_API_Petition.json</a><br>
      • <a href="./API_parser_usernames/output/Deploy_API_Parser.json">Deploy_API_Parser.json</a
    </td>
  </tr>

  <tr>
    <td><b>CrowdStrike</b></td>
    <td>
      <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FVelorciosGroup%2FAzureSentinelARMTemplate%2Frefs%2Fheads%2Fmain%2FCrowdStrike%2Foutput%2Fdeploy.json">
        <img src="./Button.png" alt="Deploy to Azure" width="140px" />
      </a>
    </td>
    <td>
      • <a href="./CrowdStrike/output/Action_Crowdstrike_Block_Hash_Alert_Playbook.json">Action_Crowdstrike_Block_Hash_Alert_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_Crowdstrike_Block_Hash_Entity_Playbook.json">Action_Crowdstrike_Block_Hash_Entity_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_Crowdstrike_Block_Hash_Incident_Playbook.json">Action_Crowdstrike_Block_Hash_Incident_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_CrowdStrike_Device_Isolation_Alert_Playbook.json">Action_CrowdStrike_Device_Isolation_Alert_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_CrowdStrike_Device_Isolation_Entity_Playbook.json">Action_CrowdStrike_Device_Isolation_Entity_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_CrowdStrike_Device_Isolation_Incident_Playbook.json">Action_CrowdStrike_Device_Isolation_Incident_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_CrowdStrike_Launch_Antivirus_Alert_Playbook.json">Action_CrowdStrike_Launch_Antivirus_Alert_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_CrowdStrike_Launch_Antivirus_Entity_Playbook.json">Action_CrowdStrike_Launch_Antivirus_Entity_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Action_CrowdStrike_Launch_Antivirus_Incident_Playbook.json">Action_CrowdStrike_Launch_Antivirus_Incident_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Enrich_CrowdStrike_Device_Info_Incident_Playbook.json">Enrich_CrowdStrike_Device_Info_Incident_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Enrich_CrowdStrike_Recent_Alerts_Playbook.json">Enrich_CrowdStrike_Recent_Alerts_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/Enrich_CrowdStrike_Recent_Incident_Playbook.json">Enrich_CrowdStrike_Recent_Incident_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/OrchestatorPart_CrowdStrike_Auth_Playbook.json">OrchestatorPart_CrowdStrike_Auth_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/OrchestatorPart_CrowdStrike_Block_IOC_Playbook.json">OrchestatorPart_CrowdStrike_Block_IOC_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/OrchestatorPart_CrowdStrike_Device_Info_Playbook.json">OrchestatorPart_CrowdStrike_Device_Info_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/OrchestatorPart_CrowdStrike_Device_Isolation_Playbook.json">OrchestatorPart_CrowdStrike_Device_Isolation_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/OrchestatorPart_CrowdStrike_Launch_Antivirus_Playbook.json">OrchestatorPart_CrowdStrike_Launch_Antivirus_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/OrchestatorPart_CrowdStrike_Recent_Incident_Playbook.json">OrchestatorPart_CrowdStrike_Recent_Incident_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/OrchestatorPart_CrowdStrike_Sync_Incidents_Playbook.json">OrchestatorPart_CrowdStrike_Sync_Incidents_Playbook.json</a><br>
      • <a href="./CrowdStrike/output/deploy.json">deploy.json</a
    </td>
  </tr>

  <tr>
    <td><b>Sophos</b></td>
    <td>
      <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FVelorciosGroup%2FAzureSentinelARMTemplate%2Frefs%2Fheads%2Fmain%2FSophos%2Foutput%2Fdeploy.json">
        <img src="./Button.png" alt="Deploy to Azure" width="140px" />
      </a>
    </td>
    <td>
      • <a href="./Sophos/output/Action_Sophos_Block_Domain_Alert_Playbook.json">Action_Sophos_Block_Domain_Alert_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_Domain_Entity_Playbook.json">Action_Sophos_Block_Domain_Entity_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_Domain_Incident_Playbook.json">Action_Sophos_Block_Domain_Incident_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_Hash_Alert_Playbook.json">Action_Sophos_Block_Hash_Alert_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_Hash_Entity_Playbook.json">Action_Sophos_Block_Hash_Entity_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_Hash_Incident_Playbook.json">Action_Sophos_Block_Hash_Incident_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_IP_Alert_Playbook.json">Action_Sophos_Block_IP_Alert_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_IP_Entity_Playbook.json">Action_Sophos_Block_IP_Entity_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Block_IP_Incident_Playbook.json">Action_Sophos_Block_IP_Incident_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Device_Isolation_Alert_Playbook.json">Action_Sophos_Device_Isolation_Alert_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Device_Isolation_Entity_Playbook.json">Action_Sophos_Device_Isolation_Entity_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Device_Isolation_Incident_Playbook.json">Action_Sophos_Device_Isolation_Incident_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Launch_Antivirus_Alert_Playbook.json">Action_Sophos_Launch_Antivirus_Alert_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Launch_Antivirus_Entity_Playbook.json">Action_Sophos_Launch_Antivirus_Entity_Playbook.json</a><br>
      • <a href="./Sophos/output/Action_Sophos_Launch_Antivirus_Incident_Playbook.json">Action_Sophos_Launch_Antivirus_Incident_Playbook.json</a><br>
      • <a href="./Sophos/output/Enrich_Sophos_Get_Device_Info_Incident_Playbook.json">Enrich_Sophos_Get_Device_Info_Incident_Playbook.json</a><br>
      • <a href="./Sophos/output/Enrich_Sophos_Get_Recent_Alert_Info_Incident_Playbook.json">Enrich_Sophos_Get_Recent_Alert_Info_Incident_Playbook.json</a><br>
      • <a href="./Sophos/output/OrchestatorPart_Sophos_Auth_Playbook.json">OrchestatorPart_Sophos_Auth_Playbook.json</a><br>
      • <a href="./Sophos/output/OrchestatorPart_Sophos_Block_IOC_Playbook.json">OrchestatorPart_Sophos_Block_IOC_Playbook.json</a><br>
      • <a href="./Sophos/output/OrchestatorPart_Sophos_Device_Isolation_Playbook.json">OrchestatorPart_Sophos_Device_Isolation_Playbook.json</a><br>
      • <a href="./Sophos/output/OrchestatorPart_Sophos_Get_Device_Info_Playbook.json">OrchestatorPart_Sophos_Get_Device_Info_Playbook.json</a><br>
      • <a href="./Sophos/output/OrchestatorPart_Sophos_Get_Recent_Alert_Info_Playbook.json">OrchestatorPart_Sophos_Get_Recent_Alert_Info_Playbook.json</a><br>
      • <a href="./Sophos/output/OrchestatorPart_Sophos_Launch_Antivirus_Playbook.json">OrchestatorPart_Sophos_Launch_Antivirus_Playbook.json</a><br>
      • <a href="./Sophos/output/deploy.json">deploy.json</a
    </td>
  </tr>

</table>









<!-- BEGIN python_app/README.md -->

## Python App

AzureSentinelARMTemplate

Repositorio para la automatización de playbooks y plantillas ARM de Azure Sentinel, orientado a entornos SOC.

-------------------------------------------------------------------------------

DESCRIPCIÓN GENERAL DEL PROYECTO

El objetivo principal de este proyecto es reducir el esfuerzo manual en la creación, adaptación y despliegue de playbooks de Azure Sentinel, proporcionando un flujo automatizado completo que permite generar, transformar y preparar playbooks compatibles con despliegues ARM de Azure.

La solución está diseñada para ser reutilizable, escalable y fácilmente mantenible, permitiendo retomar el trabajo pasado un tiempo sin necesidad de contexto previo.

-------------------------------------------------------------------------------

INSTALACIÓN
Para instalar y ejecutar el proyecto, se requiere tener Python 3.8 o superior instalado en el sistema.
Pasos para la instalación:
1. Clonar el repositorio:
   git clone https://github.com/VelorciosGroup/AzureSentinelARMTemplate/tree/python-app
2. Navegar al directorio del proyecto:
    cd AzureSentinelARMTemplate
3. Ejecutar el script de bash: script_automate_templates.ps1

-------------------------------------------------------------------------------
COMPONENTES DEL PROYECTO

El proyecto está compuesto por dos aplicaciones diferenciadas y un mecanismo de integración que permite su ejecución conjunta como una única solución.

-------------------------------------------------------------------------------

APLICACIÓN GUI – GENERACIÓN DE MASTER TEMPLATE

La aplicación gráfica (GUI) es la encargada de analizar un conjunto de playbooks existentes y generar una plantilla maestra (master template) común.

Sus responsabilidades principales son:
- Analizar la estructura de los playbooks de entrada.
- Unificar y normalizar campos comunes.
- Generar una master template reutilizable.

Esta parte del proyecto ha sido desarrollada por Guillermo Plaza Gallán y representa el primer paso del flujo de automatización.

Referencia:
https://github.com/VelorciosGroup/AzureSentinelARMTemplate/tree/master_template_automation

La salida de esta aplicación es un archivo JSON que actúa como plantilla base para el resto del proceso.

-------------------------------------------------------------------------------

APLICACIÓN CLI – TEMPLATE_AUTOMATION

La aplicación de línea de comandos (CLI), llamada template_automation, es la encargada de transformar playbooks utilizando una master template previamente generada.

Sus funciones principales son:
- Cargar la master template.
- Procesar múltiples playbooks JSON.
- Adaptar y transformar los playbooks para que sean compatibles con plantillas ARM de Azure Sentinel.
- Generar los playbooks finales listos para su despliegue.

Esta parte del proyecto ha sido desarrollada por Sergio Perera Márquez y actúa como el motor principal de automatización.

Referencia:
https://github.com/VelorciosGroup/AzureSentinelARMTemplate/tree/playbook_parse_automation

-------------------------------------------------------------------------------

INTEGRACIÓN DEL FLUJO COMPLETO

Para unificar el funcionamiento de ambas aplicaciones, se utiliza un script de ejecución que permite encadenar los procesos:

1. Se ejecuta la GUI para generar la master template.
2. Al finalizar, el script invoca automáticamente la CLI template_automation.
3. La CLI aplica la master template sobre los playbooks de entrada.
4. Se generan los playbooks finales compatibles con Azure Sentinel.

Este enfoque permite ejecutar todo el proceso de principio a fin sin intervención manual entre fases.

-------------------------------------------------------------------------------

FUNCIONALIDADES PRINCIPALES

El proyecto permite:
- Generar plantillas maestras a partir de playbooks existentes.
- Aplicar una plantilla común sobre múltiples playbooks.
- Automatizar la transformación de playbooks a formato ARM.
- Separar claramente las responsabilidades entre generación y transformación.
- Reducir errores manuales y estandarizar despliegues.
- Facilitar la migración y adaptación de playbooks entre distintas plataformas de seguridad.

-------------------------------------------------------------------------------

USO DE LA APLICACIÓN CLI

La aplicación template_automation se ejecuta desde línea de comandos con los siguientes parámetros principales:
- Ruta a la master template.
- Directorio de playbooks de entrada.
- Directorio de salida para los playbooks transformados.
- Nivel de verbosidad opcional.

Ejemplo de ejecución:

python3 -m template_automation -m <ruta_master.json> -i <directorio_playbooks> -o <directorio_salida> -v

La ejecución puede realizarse manualmente o ser invocada automáticamente desde el script de integración tras finalizar el proceso de la GUI.

-------------------------------------------------------------------------------

CONSIDERACIONES IMPORTANTES

- La master template es el elemento central del sistema y cualquier cambio en ella afecta a todos los playbooks generados.
- La separación entre GUI y CLI facilita el mantenimiento y la evolución del proyecto.
- Los playbooks generados son independientes y pueden desplegarse directamente en Azure Sentinel.
- El diseño del proyecto permite futuras ampliaciones y nuevas integraciones.

-------------------------------------------------------------------------------

AUTORÍA

GUI – Master Template Automation:
Guillermo Plaza Gallán

CLI – Template Automation:
Sergio Perera Márquez

-------------------------------------------------------------------------------

LICENCIA

Este repositorio es propiedad del autor y su uso está sujeto a las políticas internas de la organización.

<!-- END python_app/README.md -->
